(this["webpackJsonpdevolut-frontent"]=this["webpackJsonpdevolut-frontent"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"o",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"p",(function(){return d})),n.d(t,"n",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return E})),n.d(t,"k",(function(){return h})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"l",(function(){return C}));var r=n(15),a=n(26),c=n(18),o=n(23),u={from:"GBP",to:"EUR",amountSend:0,amountReceive:0,rate:0,formatError:null,reverse:!1,amountFrom:"",amountTo:""},i=Object(r.c)({name:"exchange",initialState:u,reducers:{format:function(e,t){e.formatError||(e.reverse?e.amountTo=e.amountTo.length?e.amountReceive.toFixed(2):e.amountTo:e.amountFrom=e.amountFrom.length?e.amountSend.toFixed(2):e.amountFrom)},setFrom:function(e,t){e.to===t.payload&&(e.to=e.from),e.from=t.payload},setTo:function(e,t){e.from===t.payload&&(e.from=e.to),e.to=t.payload},setAmountFrom:function(e,t){e.amountFrom=t.payload,e.reverse=!1;var n=Object(o.e)(e.amountFrom);null!=n?(e.formatError=null,e.amountSend=n,e.amountReceive=Object(o.c)(e.amountSend,e.rate),e.amountTo=e.amountReceive.toFixed(2)):e.formatError="format error"},setAmountTo:function(e,t){e.amountTo=t.payload,e.reverse=!0;var n=Object(o.e)(e.amountTo);if(null!=n){if(e.formatError=null,e.amountReceive=n,0===e.rate)return e.amountSend=0,void(e.amountFrom="");e.amountSend=Object(o.b)(n,e.rate),e.amountFrom=e.amountSend.toFixed(2)}else e.formatError="format error"}},extraReducers:function(e){e.addCase(c.e.pending,(function(e,t){e.amountSend=u.amountSend,e.amountReceive=u.amountReceive,e.formatError=u.formatError,e.reverse=u.reverse,e.amountFrom=u.amountFrom,e.amountTo=u.amountTo})),e.addCase(a.d,(function(e,t){var n=t.payload,r=n[e.from.concat(e.to)];r&&r!==1/0&&r!==-1/0||(r=1/n[e.to.concat(e.from)]),r&&r!==1/0&&r!==-1/0&&(e.rate=r,e.formatError||(e.reverse?(e.amountSend=e.amountReceive&&Object(o.b)(e.amountReceive,r),e.amountFrom=0!==e.amountFrom.length||e.amountSend?e.amountSend.toFixed(2):""):(e.amountReceive=Object(o.c)(e.amountSend,r),e.amountTo=0!==e.amountTo.length||e.amountReceive?e.amountReceive.toFixed(2):"")))}))}});t.a=i.reducer;var l=i.actions,s=l.format,m=l.setFrom,f=l.setAmountFrom,d=l.setTo,b=l.setAmountTo,v=function(e){return e.exchange.to},p=function(e){return e.exchange.amountTo},E=function(e){return e.exchange.amountSend},h=function(e){return e.exchange.reverse?e.exchange.formatError:null},j=function(e){return e.exchange.formatError},O=function(e){return e.exchange.from},x=function(e){return e.exchange.amountFrom},g=function(e){return e.exchange.amountReceive},y=function(e){return e.exchange.reverse?null:e.exchange.formatError},C=function(e){return{from:e.exchange.from,to:e.exchange.to,get:e.exchange.amountSend,put:e.exchange.amountReceive}}},18:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return d}));var r=n(21),a=n.n(r),c=n(29),o=n(15),u=n(47),i={status:"IDLE"},l=Object(o.b)("transaction/send",function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),s=Object(o.c)({name:"transaction",initialState:i,reducers:{idle:function(e,t){e.status=i.status,e.tx=void 0,e.rejectinReason=void 0}},extraReducers:function(e){e.addCase(l.pending,(function(e,t){"IDLE"!==e.status&&"CONFIRMED"!==e.status||(e.tx=t.meta.arg,e.status="PENDING")})),e.addCase(l.fulfilled,(function(e,t){var n=t.payload;"PENDING"===e.status&&(e.status=n.confirmed?"CONFIRMED":"REJECTED",n.confirmed||(e.rejectinReason=n.reason))})),e.addCase(l.rejected,(function(e,t){"PENDING"===e.status&&(e.status="REJECTED")}))}});t.a=s.reducer;var m=s.actions.idle,f=function(e){return"IDLE"===e.transaction.status||"CONFIRMED"===e.transaction.status},d=function(e){return e.transaction.rejectinReason}},23:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return i}));var r=/^([0-9])*(?:\.[0-9]{0,2})?$/,a=function(e){if(!e.length)return 0;var t=parseFloat(e);return isNaN(t)?null:e.match(r)?Math.round(100*t)/100:null},c=function(e,t){return Math.floor(100*e+100*t)/100},o=function(e,t){return(((1e3*e|0)-(1e3*t|0))/10|0)/100},u=function(e,t){return Math.floor(e*t*100)/100},i=function(e,t){return Math.ceil(e/t*100)/100}},26:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d}));var r=n(21),a=n.n(r),c=n(29),o=n(55),u=n(15),i=n(47),l=Object(u.c)({name:"rates",initialState:{currencies:[],rates:{}},reducers:{update:function(e,t){e.rates=Object(o.a)(Object(o.a)({},e.rates),t.payload)}}});t.a=l.reducer;var s=l.actions.update;function m(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t,n,r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(n,r);case 2:c=e.sent,t(s(c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e){return e.rates.rates}},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l}));var r=n(15),a=n(19),c=n(18),o=n(23),u=Object(r.c)({name:"wallets",initialState:{USD:1e3,EUR:1e3,GBP:9001},reducers:{},extraReducers:function(e){e.addCase(c.e.fulfilled,(function(e,t){if(t.payload.confirmed){var n=t.payload.tx,r=n.from,a=n.to,c=n.get,u=n.put,i=Object(o.d)(e[r],c),l=Object(o.a)(e[a],u);e[r]=i,e[a]=l}}))}});t.a=u.reducer;var i=function(e){return e.wallet},l=Object(a.a)(i,(function(e){return Object.keys(e).reduce((function(t,n){return t.push({code:n,amount:e[n]}),t}),[])}))},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(21),a=n.n(r),c=n(29),o="https://api.exchangeratesapi.io/latest";function u(e,t){var n=new URLSearchParams(t).toString();return"".concat(e,"?").concat(n)}function i(e,t){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t,n){var r,c,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u(o,{base:t,symbols:n.join()})).then((function(e){return e.json()}));case 2:return r=e.sent,c=r.rates,i=Object.keys(c),l=i.reduce((function(e,n){return e[t.concat(n)]=c[n],e}),{}),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return!0,e.next=5,Promise.resolve({tx:t,confirmed:!0});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65:function(e,t,n){e.exports=n(79)},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(134),o=n(132),u=n(133),i=n(80),l=n(123),s=n(142),m=n(81),f=n(131),d=n(12),b=n(19),v=n(58),p=n(140),E=n(128),h=n(129),j=n(127),O=n(139),x=n(125),g=Object(l.a)((function(e){return Object(s.a)({input:{paddingRight:"2px",textAlign:"right"}})})),y=/[.0-9]/;function C(e){var t=e.id,n=e.value,r=e.currency,c=e.onCurrencyClick,o=e.onBlur,u=e.onChange,i=g(),l=e.currency?a.a.createElement(x.a,{position:"start"},a.a.createElement(j.a,{onClick:c},r)):null;return a.a.createElement(O.a,{id:t,classes:{input:i.input},startAdornment:l,value:n,onBlur:o,onChange:function(e){var t=e.target.value;u&&u(t)},onKeyPress:function(e){e.key.match(y)||e.preventDefault()}})}var F=n(135),R=n(141),S=a.a.memo((function(e){var t=e.anchorEl,n=e.onClose,r=e.open,c=e.currencies,o=e.currency,u=e.onClick;return a.a.createElement(F.a,{anchorEl:t,keepMounted:!0,open:r,onClose:n},(c||[]).map((function(e){return a.a.createElement(R.a,{key:e.value,selected:e.value===o,onClick:function(){return u(e.value)}},e.value," ",e.label)})))}),(function(e,t){return!t.anchorEl&&!e.anchorEl}));function k(e){var t=e.id,n=e.amount,r=e.helper,c=e.label,o=e.error,u=e.onBlur,i=e.onChange,l=e.onCurrencySet,s=e.currency,f=e.currencies,d=a.a.useState(null),b=Object(v.a)(d,2),j=b[0],O=b[1],x=Boolean(j),g=r&&"".concat(t,"-helper-text");c&&"".concat(t,"-label");return a.a.createElement(m.a,{elevation:0},a.a.createElement(E.a,{error:o},a.a.createElement(p.a,{id:g,htmlFor:t,shrink:!0},c),a.a.createElement(C,{id:t,value:n||"",currency:s,onCurrencyClick:function(e){O(e.currentTarget)},onChange:i,onBlur:u}),a.a.createElement(a.a.Fragment,null,r?a.a.createElement(h.a,{id:g},r):null),f&&f.length?a.a.createElement(S,{onClose:function(){O(null)},anchorEl:j,open:x,currencies:f,currency:s,onClick:function(e){l(e),O(null)}}):null))}var T=n(30),w=n(10),D=Object(b.a)(T.c,(function(e){return e.map((function(e){return{label:e.amount.toFixed(2),value:e.code}}))}));function I(e){var t=e.id,n=e.label,r=e.setAmount,c=e.setCurrency,o=e.selectError,u=e.selectCurrency,i=e.selectAmount,l=Object(d.c)(function(e){return Object(b.a)(T.b,e,(function(e,t){return"".concat(e[t].toFixed(2)," ",t)}))}(u)),s=Object(d.c)(D),m=Object(d.c)(u),f=Object(d.c)(i),v=Object(d.c)(o),p=Object(d.b)();return a.a.createElement(k,{error:!!v,id:t,label:n,currency:m,currencies:s,amount:f,onBlur:function(){return p(Object(w.c)())},onChange:function(e){return p(r(e))},onCurrencySet:function(e){return p(c(e))},helper:v||"You have "+l})}function A(){return a.a.createElement(I,{id:"send",label:"You send",setAmount:w.m,setCurrency:w.o,selectError:w.f,selectCurrency:w.e,selectAmount:w.d})}var N=n(138),M=n(18);function B(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.transaction.tx})),n=Object(d.c)((function(e){return"CONFIRMED"===e.transaction.status})),r=Object(d.c)((function(e){return"REJECTED"===e.transaction.status})),c=Object(d.c)(M.c),o=n||!!r;return t&&n||r?a.a.createElement(N.a,{autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},open:o,onClose:function(){return e(Object(M.b)())},message:t&&n?"You received ".concat(t.put.toFixed(2)," ").concat(t.to):c||"Rejected: unknown reason"}):null}function P(){return a.a.createElement(I,{id:"receive",label:"You receive",setAmount:w.n,setCurrency:w.p,selectError:w.k,selectCurrency:w.j,selectAmount:w.i})}var G=n(130),J=Object(b.a)(w.e,w.h,T.b,(function(e,t,n){return t<=n[e]&&t>0})),U=Object(b.a)(w.b,M.d,w.g,J,(function(e,t,n,r){return!e&&t&&n&&r}));function L(){var e=Object(d.c)(U),t=Object(d.c)(w.l),n=Object(d.b)();return r.createElement(G.a,{variant:"extended",color:"primary",disabled:!e,onClick:function(){return n(Object(M.e)(t))}},"Exchange")}var Y=n(136),z=n(26),H=Object(b.a)(w.e,w.j,z.c,(function(e,t,n){return n[e.concat(t)]}));function K(){var e=Object(d.b)(),t=Object(d.c)(w.e),n=Object(d.c)(w.j),c=Object(d.c)(H);return Object(r.useEffect)((function(){Object(z.b)(e,t,[n]);var r=setInterval((function(){return Object(z.b)(e,t,[n])}),1e4);return function(){return clearInterval(r)}}),[e,t,n]),a.a.createElement(Y.a,{variant:"outlined",color:c?"primary":"default",label:c?"1 ".concat(t," = ").concat(c.toFixed(4)," ").concat(n):"loading..."})}var W=Object(l.a)((function(e){return Object(s.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center"}})}));function $(){var e=W();return a.a.createElement(m.a,{className:e.paper},a.a.createElement(f.a,{container:!0,spacing:2},a.a.createElement(f.a,{item:!0,xs:12},a.a.createElement(K,null)),a.a.createElement(f.a,{item:!0,xs:12,sm:6},a.a.createElement(A,null)),a.a.createElement(f.a,{item:!0,xs:12,sm:6},a.a.createElement(P,null)),a.a.createElement(f.a,{item:!0,xs:12},a.a.createElement(L,null))),a.a.createElement(B,null))}n(77);t.default=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.a,{position:"static"},a.a.createElement(u.a,null,a.a.createElement(i.a,{variant:"h6"},"Currency Exchange"))),a.a.createElement(c.a,{component:"main",maxWidth:"md"},a.a.createElement(i.a,{variant:"body1",color:"textSecondary",component:"p"},"Currency Exchange component made with React, Redux and Material UI."),a.a.createElement($,null)))}},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(8),o=n.n(c),u=n(12),i=n(15),l=n(20),s=n(26),m=n(30),f=n(10),d=n(18),b=Object(l.c)({rates:s.a,wallet:m.a,exchange:f.a,transaction:d.a}),v=Object(i.a)({reducer:b});n(76);!function(){var e=n(78).default;o.a.render(a.a.createElement(u.a,{store:v},a.a.createElement(e,null)),document.getElementById("root"))}()}},[[65,1,2]]]);
//# sourceMappingURL=main.b6c0f3cc.chunk.js.map